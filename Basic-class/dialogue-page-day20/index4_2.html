<!DOCTYPE html>
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<html lang="zh-CN">
    <head>
        <meta charset="UTF-8">
        <title>IFE ECMAScript</title>
    </head>
    <body>
        <div id="fade-obj" style="width:300px;height:300px;background:#000"></div>
        <button id="fade-btn">淡出</button>
        <script>
            var btn=document.getElementById('fade-btn');
            var obj=document.getElementById('fade-obj');
            obj.style.opacity=1;
            // 淡出/淡入
            function fadeToggle(){
                // 1.按钮状态不可点击
                btn.disabled=true;
                
                var txt=btn.textContent;
                // 2.修改透明度
                if(txt=="淡出"){
                    btn.disabled=true;
                    var id1=setInterval(function(){
                        obj.style.opacity=obj.style.opacity-0.1;
                        if(obj.style.opacity<=0){
                            clearInterval(id1);
                            btn.textContent="淡入";
                        }
                    },50);
                }else{
                    var id2=setInterval(function(){
                        obj.style.opacity=parseFloat(obj.style.opacity)+0.1;
                        if(obj.style.opacity>=1){
                            clearInterval(id2);
                            btn.textContent="淡出";
                        }
                    },50);
                }
                // 4.按钮状态恢复
                btn.disabled=false;
            }
            btn.addEventListener("click",fadeToggle,false);
        </script>
    </body>
</html>      